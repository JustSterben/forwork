<h1>–û–±—ä—è–≤–ª–µ–Ω–∏—è</h1>

<p><a href="{% url 'create_ad' %}">+ –°–æ–∑–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</a></p>

<form method="get">
  <input type="text" name="q" placeholder="–ü–æ–∏—Å–∫..." value="{{ request.GET.q }}">
  <input type="text" name="category" placeholder="–ö–∞—Ç–µ–≥–æ—Ä–∏—è" value="{{ request.GET.category }}">
  
  <select name="condition">
    <option value="">–°–æ—Å—Ç–æ—è–Ω–∏–µ</option>
    <option value="new" {% if request.GET.condition == 'new' %}selected{% endif %}>–ù–æ–≤—ã–π</option>
    <option value="used" {% if request.GET.condition == 'used' %}selected{% endif %}>–ë/—É</option>
  </select>

  <button type="submit">–ù–∞–π—Ç–∏</button>
</form>

<hr>

<ul>
  {% for ad in ads %}
    <li>
      <a href="{% url 'ad_detail' ad.id %}">{{ ad.title }}</a>
      ‚Äî {{ ad.category }} ({{ ad.condition }})
    </li>
  {% empty %}
    <li>–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</li>
  {% endfor %}
</ul>
{% if page_obj.has_other_pages %}
  <div class="pagination">
    {% if page_obj.has_previous %}
      <a href="?q={{ request.GET.q }}&category={{ request.GET.category }}&condition={{ request.GET.condition }}&page={{ page_obj.previous_page_number }}">‚Üê –ù–∞–∑–∞–¥</a>
    {% endif %}

    <span>–°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ page_obj.number }} –∏–∑ {{ page_obj.paginator.num_pages }}</span>

    {% if page_obj.has_next %}
      <a href="?q={{ request.GET.q }}&category={{ request.GET.category }}&condition={{ request.GET.condition }}&page={{ page_obj.next_page_number }}">–í–ø–µ—Ä—ë–¥ ‚Üí</a>
    {% endif %}
  </div>
{% endif %}

<p><a href="{% url 'exchange_proposals' %}">üì¨ –ú–æ–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</a></p>
